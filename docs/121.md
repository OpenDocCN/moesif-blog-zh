# 与 API 布道者 Kin Lane 的播客

> 原文：<https://www.moesif.com/blog/podcasts/api-product-management/Podcast-With-Kin-Lane-the-API-Evangelist/>

Ep。3:空气污染指数布道者金·莱恩

### Moesif 的播客网络:为 API 产品经理和其他 API 专业人士提供可操作的见解。

今天，我们非常高兴地邀请到了《邮差》的首席传道人 [Kin Lane](https://www.linkedin.com/in/kinlane/) 。在过去的十年里，他一直在帮助组织思考他们的 API 生命周期，优化他们的业务流程。在他著名的博客网站 [API 布道者](https://apievangelist.com/)上，他仍然是一个多产的作家。

Kin 分享了他对 API 治理的看法，关于弃用和版本控制的指导方针，以及他在 Postman Collections 中看到的有趣的实现，等等。

德瑞克·吉林，Moesif 的首席执行官是今天的主持人。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/927731167&color=%23ff4f00&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/927731167&color=%23ff4f00&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

[Moesif](https://soundcloud.com/moesifhq "Moesif") · [Kin Lane, the API Evangelist](https://soundcloud.com/moesifhq/kin-lane-the-api-evangelist "Kin Lane, the API Evangelist")

目录

*   [0:20 金·莱恩进入阿皮斯的路径以及是什么让他成为邮递员](#why-postman-for-the-api-evangelist)
*   [3:11API 有多普遍](#how-prevalent-are-apis)
*   [6:25 在整个公司范围内标准化 APIs】](#standardizing-apis-across-your-company)
*   [8:07 确保大型公司与初创公司的 API 治理](#how-to-do-governance)
*   [9:32 DevEx 大于文档](#devex-is-more-than-documentation)
*   [12:18 测量开发者激活和成功](#measuring-developer-activation-and-success)
*   [16:58 如何评价 DevRel](#how-to-evaluate-devrel)
*   [19:50 什么是 APIOps](#apiops-definition)
*   [22:25 版本控制指南](#versioning-guidelines)
*   [28:37 HTTP 头非常重要](#http-headers-are-very-important)
*   [29:55 了解你的顾客，这样你就可以交流变化](#kyc-so-you-can-communicate-change)
*   [32:12 针对安全漏洞强制升级](#forcing-upgrades-for-security-vulnerabilities)
*   [34:18 厌倦了支持多个客户端库](#tired-of-supporting-multiple-client-libraries)
*   [36:08 稳定您的 API 生命周期](#stabilizing-your-api-lifecycle)
*   [40:02graph QL 有市场吗](#is-there-a-market-for-graphql)
*   [43:48 有什么好的 API 资源吗](#are-there-any-good-resources-for-apis)

**【德瑞克·吉林(Moesif):** 欢迎来到 Moesif 的播客的另一集。我是德里奇·吉林，今天的主持人，API 分析平台 Moesif 的首席执行官。加入我的是 Kin Lane，他也被称为 API 布道者，是 API 的资深成员，目前是 Postman 的首席布道者。很高兴你今天能来，肯。

肯·莱恩(邮递员):谢谢你邀请我。感激不尽。

## 为什么是 API 福音传道者的邮递员

Kin 在 2010 年创立了 API 布道者，作为他咨询业务的代言人，帮助组织思考他们的 API 生命周期。到 2019 年，Postman 是他表现最好的工具之一，因此很适合他，他现在在那里处理他真正渴望的问题。

德里奇:一头扎进去。我很好奇，你是怎么进入 APIs 的，是什么把你引向了 Postman？

Kin: 所以从历史上看，我是一名数据库人员，我将在这里与自己约会——1988 年是我的第一份工作。如此之快，互联网出现了，我正在构建数据库驱动的 web 应用程序。大约在 2006 年，我负责 SAP 在北美的活动，从聚会到 50，000 人的 Sapphire 旗舰活动。我开始以一种新的方式使用亚马逊 API 来扩展基础设施。我以前从未以这种方式使用过 API。大约在同一时间，我开始收到做更多移动应用程序的请求，当时我工作的公司负责 SAP 在北美的所有活动，我们接手了谷歌的所有活动。因此，当我在 2008 年和 2009 年运行 Google IO 时，我被要求开发更多的移动应用程序，然后我为 Google 运行的最后一个应用程序是在他们发布第一款 Android 手机的那一年。

因此，我看到了 web APIs 所扮演的角色，到 2010 年，我开始了自己的咨询生涯，API 布道者就是我的代言人。然后我花了十年的时间帮助组织思考他们的 API 生命周期，以及如何优化和更有效地做事。到 2019 年，Postman 是我工具箱中性能最好的工具之一，当我问人们使用什么工具时，Postman 是每个人的首选。

因此，当谈到真正应用我在过去十年中学到的知识，并在 API 生命周期中遇到困难时，Postman 真的是我可以去工作的地方的首选。老实说，我有一个女儿正在读大学，所以我需要一份工作，以前的工作并不能支付大学学费，我现在有点喜欢有医疗保险。我开始解决我真正想解决的问题，我开始实践我过去十年来一直宣扬的东西。所以很适合。

## API 有多普遍

所有主流公司现在都意识到他们应该做 API。API 无处不在，在我们的个人和商业生活中，它们隐藏在我们所接触的一切事物之下。

**德里奇:**牛逼。在 Moesif，我们是 Postman 的超级粉丝，甚至在我们的上一家公司也是——伟大的产品和伟大的 UI。有趣的是，在 API 和开发者关系中出现了所有不同的角色——开发者体验、产品管理、开发者关系等等。它会变得很模糊。这一切意味着什么——这些不同的角色是什么，在 Postman 是如何组织的？

Kin: 谈到 API 生命周期，我想说越来越多的人参与到对话中。对我来说，这是 web APIs 或 RESTful APIs 如此成功的原因之一，因为它们更简单，技术性更低。最简单的形式是一个 URL，带有一堆任何人都可以使用的查询参数，所以使用起来简单多了。

当你有一个像 Postman 这样的工具，允许你在不写代码的情况下进行 API 调用，这就开始打破传统 IT 和业务之间存在的一些门道。我们刚刚开始看到越来越多的人加入到对话中来，他们有大量的问答和测试人员需要实际测试 API。我们也开始看到更多的业务利益相关者站出来，希望获得来自 API 管理和分析的意识，要求仪表盘和更多关于他们用来推动业务的 web 和移动应用背后的 API 关键部分的见解。

我们真的看到，随着 API 生命周期的扩展和增长，API 不是我们问的“我们应该做吗”，而是所有主流公司现在都意识到他们应该做的事情。事实证明，向业务利益相关者开放这一层意识非常重要。我们看到销售团队作为我们迎合的角色出现。根据 Postman 发布的 API State 报告，我认为上次有近 13，000 人填写了它，我们只是看到更多这样的角色出现。我们还看到，在 Postman 内部，我们看到越来越多的营销人员使用 Marketo 的 API 或使用 Salesforce APIs 结合 Postman 的集合来提取数据，以了解正在发生的事情。

因此，API 无处不在，它们在我们个人和商业生活中接触到的一切事物之下。我认为越来越多的人开始意识到这个事实，他们需要工具来帮助他们理解这个在我们脚下展开的世界。但也在快速成长、快速变化和发展。

## 在您的公司内标准化 API

邮递员的收藏让每个人都朝着同一个方向划船。通过建立一个 API 调用，将其保存为一个集合，然后在其他利益相关者之间共享，您真正开始标准化人们如何交谈、交流和解决问题。

当然，当谈到像邮递员集合这样的事情时，你见过哪些更有趣的事情，或者当不同的公司尝试和实现新的 API 时有哪些更有趣的惊喜。

一旦你有了一个运行一组测试的集合，你就可以开始以一种标准化的方式平等地度量一个组织中的所有 API。因此，人们开始不仅考虑测试，还考虑治理，这揭示了同一组织中不同的 API 是如何不同的。该公司可能是 Adobe 或微软，但他们如何在每个团队中构建 API 变化很大，我不认为人们总是能看到这一点。一旦你开始标准化、保存集合、运行测试、共享它们以及跨团队合作，你开始看到一些奇怪的事情出现。我认为人们真的意识到我们并没有像自己想象的那样朝着同一个方向前进。

因此，当你能够建立一个 API 调用，将其保存为一个集合，然后在其他利益相关者之间共享，并说“只需点击运行，看看你会得到什么，”你就开始真正标准化人们如何交谈、交流和解决问题。我想说，人们并不总是意识到每个团队对待 API 的方式有多么不同，这些跨组织的差异让很多人大开眼界。

## 如何进行治理

*为了让人们坚持合规，你必须投资于培训、教育和围绕治理的反馈循环，否则你最终会发现人们并不真正关心你*

**derrick:**你认为在大公司和小公司的 API 治理上有什么不同吗？

金:嗯，我想说这更多的是人类的一面。当你在一个较小的公司，你想做治理，你有更少的表面积，更少的人参与其中，所以有时更容易制定。但是，随着团队数量和 API 数量的增长，这变得更加人性化——你必须四处走动，教育人们什么是 Postman，什么是 OpenAPI，以及如何使用 OpenAPI 来定义你的合同。哦，接下来是你如何使用 Postman 来测试、监控和执行那些 API 调用，以一种我们可以报告治理的方式。

我想说，最大的区别实际上只是投资于人力培训、教育、研讨会和围绕治理的反馈循环。否则，你最终会发现人们并不真正关心，人们很反感，说“嘿，我们不想这么做”，因为我们没有给出任何关于什么是治理、为什么治理、那些测试是关于什么以及报告是什么的反馈。因此，团队越大，你就越需要围绕为什么要治理、治理是什么以及治理的演变来展开讨论。因为如果你得不到团队的支持，事情将会变得非常困难。当你的公司规模较小时，这就容易多了。

## DevEx 不仅仅是文档

文档和门户都是赌注。接下来是对你自己的 API 消费进行分析、使用和洞察，但你的目标应该是通过提供对开发社区中其他人正在做什么的洞察，使之成为一种共享的体验。

**德里奇:**肯定。继续下一个领域，这是关于开发者体验的。你会听到很多关于开发者同理心的说法，但是首先成为开发者意味着什么呢？

哦，是的。我认为开发者体验肯定始于围绕你的 API 的门户和文档，但是为他们提供分析、使用和对他们的 API 消费的洞察。早期的 API 管理实际上是为提供商开发意识，在它前面设置一个速率限制，测量它，然后提供分析，以便您了解您的 API 是如何被使用的。那些内化了这一点并真正关心他们的开发人员的人，也与他们的开发人员分享这一点——那种意识，那种洞察力，他们的那一小块馅饼。因此，给开发者一个仪表板、分析和见解，以便他们可以提高他们的使用，了解他们在使用什么，或者他们没有使用什么，或者他们的应用程序是否非常健谈。然后分享其他开发者在做什么，类似行业的人在做什么？与其他开发人员相比，我的使用情况如何？因此它成为了一个共享的开发者体验。

所以这不仅仅是“嘿，你的文档很棒，”我作为一名开发人员通过你提供给我的仪表板获得了这种意识，但我也感觉我是社区的一部分。我看到其他人是怎么做的。我可以改进我的应用程序和消费。我可以让它们不那么啰嗦，因为我正在从 API 中抽离出来。但是，哦，看这里，有一群开发人员在使用 web hooks。我甚至不知道网钩。因此，我想说的是，API 带来的洞察力和意识的社区共享，API 管理带来的洞察力和意识，并确保他们关注，这为他们的世界提供了价值。

然后我会说你有一些可操作的目标来激活它们。那么，如何通过更好的和不断改进的开发者体验来激活和增加开发者的参与度呢——通过向他们提供更多的见解和理解。

## 衡量开发人员的积极性和成功

在测量激活之前，我们需要定义什么是平台和 API，以及平台和基于平台的应用。我们衡量和报告的内容，以及我们如何激励和推动开发人员前进，会因您是在构建移动应用、web 应用、widget、物联网应用还是在进行类似 iPaaS 的集成而有很大不同。

**德里奇:**爽。说到激活，有没有方法来衡量开发者的激活，开发者的成功是什么样的？

金:是的，我的意思是那真的很难，因为我一直在推动这个想法。例如，当我注册成为 Twitter API 的开发人员时，我必须注册并说，哦，这是我正在构建的应用程序，给你一个标题和描述，然后 Twitter 才会给我密钥。大多数时候我不知道我在建造什么。尤其是作为 API 传播者的我，我通常不会构建一个 app，我通常只是踢踢轮胎，写一个故事，了解什么是可能的。所以应用程序的范例从来都不适合我。但我也可以说，我是一片特殊的雪花，在这种情况下，我尝试了许多不同的 API，但从未开发过应用程序。但即使对于那些正在构建应用程序或应用程序概念的人来说，我只是在构建一个集成，我只是希望 Twitter 数据在谷歌表单中。我只是希望能够整合我每天依赖的 SaaS 服务，以帮助理解这一点。

所以我认为，在我们能够交付合适的开发者体验之前，在我们能够开始真正有效地衡量之前，什么是应用的概念需要发展。如果有人只是在做一个类似 iPaaS 的集成，那么与我正在构建一个移动应用程序、一个 web 应用程序、一个小部件或一个物联网应用程序相比，这些指标将会有很大的不同。因此，衡量标准的类型，我们衡量和报告的内容，以及我们如何激励和推动开发人员前进，这种体验将会有很大的不同。我想说，这又回到了实际使用我们 API 的人的角色上。是铁杆后端开发人员在开发移动应用程序，还是 it 业务人员在寻求更好地协调和连接他们经常使用的系统？因此，我认为人们必须开始真正理解什么是应用程序，或者这是否适用，我们是否应该将应用程序的概念抛之门外。我们应该让用户注册，然后开始玩东西吗？我认为这是我对许多 API 感到沮丧的原因之一。

如果我在 Twitter 上，我必须去 developer.twitter.com 的一个单独的区域，当然我可以验证并注册我的 Twitter 帐户，但我仍然必须在那里创建应用程序并获取我的指标。总是在另一个地方。如果你使用像 Cloudflare 这样的解决方案，他们会做得很好，我作为一个 Cloudflare 的用户登录到页面上的每个控制面板小部件的后面，不是每个人，但大多数人，在底部角落有一个 API 按钮，我可以用键抓住 API 调用。要调用 API，我只需获取它，复制并粘贴到 Postman 或其他中，然后点击 send。我的帐户不是独立的；我的钥匙没有分开。因此，我认为开发者体验的概念需要与应用程序体验或平台体验相结合，我们需要迎合的整体平台体验是什么，以使人们使用 API。我认为，一旦我们克服了当前关于什么是平台与 API、平台与基于平台构建的应用程序的概念中的这种摩擦点，我认为你将会看到全新的使用类型出现，以及为人们测量和创造体验的新方法。

德里奇:这是一个非常有趣的观点，在这种情况下，它不是关于拥有单一的开发者体验，而是实际上更像是一种思维方式。它嵌入在应用程序中，不管你是哪个团队的成员。

Kin: 是的，这种想法会更符合你的商业目标。太多了，太频繁了，API 是完成的次要项目，我们选中了那个框。它与整体核心业务目标不一致，因为它是在这里完成的，你可以在这里链接到它。不，它应该是我们的平台体验和集成的一部分，像 Zapier 这样的 SaaS 集成是司空见惯的。用 API 实现低代码/无代码自动化是很常见的，这不符合边栏中关于什么是开发人员体验的叙述。它应该只是你的整体平台用户体验。

## 如何评价 DevRel

*开发者关系应该通过将你的 API 和开发者周期转化为解决现实世界商业问题的东西来衡量，并在这个过程中为我们带来客户*

那么，如果我是开发人员体验团队的一员，应该根据什么来评判我呢？是收入，还是别的什么？

**Kin:** 难说。为了收入，你很快就会惹怒一群人。根据你的开发团队，你很快就会把他们惹毛。也许这是导致与整体业务目标不一致的原因之一，作为开发人员，我们是这些特殊的雪花，不会让我们销售。

但是我们也需要支付我们的薪水，公司必须赚钱，否则我们都会失业。所以我认为我们需要开始一个更诚实的对话。但是，我想最终对我来说，我希望他们是 DevRel 或福音传道者，或者任何介于两者之间的群体，我希望我所产生的影响能被衡量。所以这将是我讲述的故事，博客帖子，网络研讨会，白皮书，案例研究，诸如此类的东西。因此，我应该被衡量的故事和这些故事的影响，我衡量高触及。

在 Postman 中，我必须报告的一个 okr 是我添加到 Postman 网络的收藏数量。现在，这可能看起来非常邮差专用，但这不是因为邮差收集对我来说是一个商业价值的衡量标准，以及我们为什么要这样做。第一个总是“这是完整的 API 参考集合”，这是所有可能的东西。这是非常好的开端——也非常无聊。下一个系列始终是一个更加 DevOps/APIOps 的业务工作流系列。好的，如果这是一个电子商务 API，这是第一个引用集合——所有的端点。但是，下一步是搜索产品，将其添加到购物车，检查购物车，获取发票。好的，我想要完成所有这些步骤的集合，并且作为一个独立的集合。因此，正是这些第二代和第三代系列开始了解商业价值是什么，以及我们为什么要这样做。

所以，这些是我认为 DevRel 应该衡量的东西。我如何将我们的 API 和开发周期转化为解决实际问题的东西，一个真正的业务用例，然后为我们带来客户。所以“给我们带来客户”可以与我们分离，让我们感觉温暖和模糊，就像 DevRel 人在我们的小泡泡里一样。但我认为，在此之前的行动仍然必须存在，我们必须对此负责。

## APIOps 定义

*APIOps 是与 API 相关的任务的组合，用于创建您的企业功能版本，这是您日常工作中切实可见的东西*

**derrick:**这提出了一个关于 APIOps 的非常好的观点，试图将它与商业价值结合起来。但是所有这些不同的术语是什么意思呢，APIOps，API Observability，还有一些其他的说法。

Kin: APIOps 对我来说只是 DevOps 的一种延伸，devo PS 是我们一天中为了完成工作而必须做的一些小的增量事情。它建立数据库，索引数据库，推送代码，CI/CD，作为 CI/CD 的一部分运行测试。所以，把所有这些任务分解开来，看着它们，然后作为一名开发人员说，这是我一天需要完成的事情。

随着您之前谈到的角色的扩展，DevOps 对他们来说是什么样的呢？如果我是一名 QA 测试人员、分析师、销售人员或营销自动化支持人员，我每天需要完成哪些小任务。如果你从事市场营销，Salesforce 的 Marketo 是我依赖的平台之一。但是我需要完成的那些功能性的小事情是什么呢？回到我所说的参考资料，Marketo 的参考资料是您可以使用 Marketo 平台做的所有事情的完整菜单。APIOps 或 DevOps 是我们如何将一个或多个 API 调用组合成在我的日常工作中实际可见的东西。

作为一名开发人员，一直到这些其他的业务角色，对我来说最关键的部分是定义它们是什么，因为这成为你的企业能力的一个版本——这是你每天能够完成的。将它们定义为集合，使它们可执行、可用和共享，我可以说“嘿，看，我在 Salesforce 和其他公司之间建立了这个很酷的新工作流。”我可以捕捉到它，然后与团队成员分享，并说“嘿，这样做。”然后，他们可以进行调整，使其为他们的世界服务，这是一种运营级别的协作。我认为这是橡胶在未来十年真正要遇到的问题。

## 版本指南

关于版本化有很多观点，从根本不像网飞那样做，到 OpenAPI，你需要在语义上对你的代码、集合和文档进行版本化。无论哪种方式，版本化都归结为拥有一个策略，实现交流，并确保，根据您的受众，您以正确的方式交流变更管理计划。

我真的很喜欢从协作的角度来看，如何让更多的人使用这些不同的 API 和各种集合。但在某种程度上，我们必须摆脱它们——所有这些产品都有一个生命周期。在弃用指南和版本指南方面，你见过哪些好东西，人们通常在哪里搞砸了？

就 API 生命周期而言，版本控制是艰难的。有很多关于如何做的观点，甚至有很多关于不做的观点，认为你根本不应该做——版本控制不好。对我来说，版本管理只是真正开放和诚实地对待变化。这是关于改变管理和有一个计划。如果你的计划实际上不是对你的代码或者你的 API 集合，或者你的文档进行语义版本化，那很好，但是要有一个计划，并传达它，展示它如何实际上允许你更快地移动，产生更少的摩擦。如果你只是把它扔在那里，说我们不版本化是因为我们不想，然后你没有变更管理计划，那不是你想要走的路。两种方式我都见过。我知道网飞在没有版本控制的情况下做得很好，他们有一个完全不同的策略。如果你想了解更多，你可以收听他们的工程博客。

语义版本控制是一种主导，实际上有一个策略，定义什么是变化，然后如何在团队内部沟通，然后在外部与我们的消费者沟通。对我来说，这才是版本控制的核心。这不是做这件事的技术细节，而是我们有一个计划，我们围绕它进行沟通，当我们谈论它时，人们理解我们在说什么。

OpenAPI 具有语义版本控制，是稳定这种交流的方式之一。这是第一版的合同，这就是我的意思，这就是你将要得到的。当我们进入 1.2 版本时，这是你将得到的，这是我的意思，这是你将得到它的时间表。然后，你要就变化传达期望:“好吧，我们现在是第 12 版，第 9 版将会消失，因为我们只支持 X 个版本。“所以真正有意义的不是语义版本化，而是我可以告诉你什么是版本 9，什么是版本 10、11、12、13。我可以有效地传达版本 9 将被弃用的时间框架。

我该怎么和你交流呢？许多拉斯特法里教徒和相信使用网络的人认为，版本应该在 API 的头中，而不应该在 API 的路径中。现在，如果你真的在这个空间工作，你会意识到不，实际上你遇到的大约 70%的版本都在这条路上，这就像违背了拉斯特法里教徒所信仰的一切和从 API 神那里流传下来的经文。但问题是许多开发人员不知道头文件的存在，所以他们甚至不知道在头文件中寻找版本。因此，围绕变化的交流中断了。当它在路径中时，它就在你的面前，很容易理解，也很容易在主要版本之间导航。这表明了沟通的重要性，这也是变革管理的关键所在。我们可以说，“嘿，你在这个版本上；嘿，我在这个版本上；嘿，你需要换到这个版本。”如果你看看 Stripe，当你第一次进行 API 调用时，他们会把你绑定到一个版本。这就是你现在的版本。这就是人们上船时的心态——你使用的是这个版本，这就是你的条纹环境。别搞砸了。我在那个环境下工作，直到我说我想去另一个版本。因此，版本控制实际上就是制定一个策略，实现交流，并确保根据您的受众，您以正确的方式交流这些东西。

你还可以做其他事情，比如你可以传递一个日落标题:我们什么时候会反对这个，然后随着时间的推移，这个标题可以用来以不同的方式传达这个信息。我看到人们在版本控制方面最大的损害和问题是他们没有交流，没有计划。如果你正在发布一个 API，你应该有一个弃用日期:我计划支持我们刚刚创建了 18 个月的这个版本。大多数 API 不会这样做，所以它可以永远存在。但是通常发生的事情是因为我们从来没有沟通过这个 API 可能会在下周消失，因为我从来没有真正沟通过它什么时候会消失，或者它会存在多久，所以我保留下周让它消失的权利。我认为这种交流的中断是我们在这个领域看到的最大的罪恶。

## HTTP 头非常重要

最聪明的博士工程师往往不知道 HTTP 头。每个人都应该参加 HTTP 的课程，学习头部、查询参数和主体参数。

**德里奇:**完全同意，传达任何反对意见或版本变更的信息真的很重要，尤其是你提到的，将它添加到 URL 中。现在有了像网钩这样的东西，它就在你的面前。有时这些标题可能会被埋没，而您看不到标题。

金:我总是惊讶于我职业生涯中遇到的那些超级聪明的博士级程序员，他们不知道头文件。我永远不会因为不知道这一点而说某人愚蠢或愚蠢，因为我们周围有太多的事情发生，我不认为每个人都上过 HTTP 课程。他们在做 C++，他们在做核心的东西，他们只是从来没有真正了解过网络和 HTTP 是如何工作的。当我终于明白时，我就像“哦，哇，好吧，现在我知道了。”但是有很多人非常聪明，非常有能力，但是就是不太明白 HTTP 头是什么，里面有多少。它与查询参数或主体参数有什么区别。我不认为人们对此有太多的认识，应该为人们提供更多的培训和研讨会。

## KYC，这样你就可以交流变化

作为变革管理沟通的一部分，你需要有一个很好的逻辑步调来来回回地漫步。如果你知道谁是你的客户，并且经常与他们交谈，那么你就可以快速前进。

一个 API 产品经理应该在多大程度上推动某人升级到下一个版本或者新的 API？如果这些弃用标头被埋没了，还有什么其他的通信方式呢？

Kin: 这是它超越 API 技术并进入商业领域的地方。有一次，我正在为一个打印 API 设计新版本。在最老的版本上，我们只剩下五个用户，所以让我们把他们都赶走。他们四个人去了。第五个人每周一早上提交一份价值 500，000 美元的打印作业。我们没有强迫他们进行版本和切换。建造它的人走了，他们不知道如何切换它。整个公司这一周的印刷量取决于这个，它是 50 万美元。你猜怎么着？我们不再强迫他们。你知道，像这样的事情超出了技术控制范围。但是我想说，作为变更管理沟通的一部分，你需要有一个良好的逻辑步调，向前漫步，向后延伸。“嘿，我们有没有落下任何人。嘿，你们在后面。你需要什么来理解未来并继续前进？”

不要支持太多的 API。看看 Salesforce，他们仍然支持他们所支持的第一个 API。他们赢了。那是 20 年后的事了。我是说，你想这么做吗？所以，这又归结为沟通。你只需要知道谁是你的消费者。实际上，这归结于 API 管理层以及分析和感知。如果你不知道你的消费者是谁，你也从来没有和他们交谈过，那么你很可能无法推动他们前进得太快。但是如果你知道他们是谁，并且经常与他们交谈，你可能会前进得很快。

## 针对安全漏洞强制升级

*通过致力于提供一个强大而完整的平台开发套件/SDK，您可以确保您的代码不那么脆弱，并且您的客户不必担心集成问题。通过向你的消费者提供更多的资源，你对他们如何前进有更大的发言权。*

**德里奇:**肯定同意那里。在做出这样的重大决定之前，你需要了解谁受到了影响，以及对你的客户和你的业务有什么影响。有时，如果存在安全漏洞或类似问题，我们不得不强迫人们使用新版本。什么时候该由提供商来说“嘿，我对我的客户的集成负责”并真正让他们升级到下一个版本？你怎么能强迫它发生呢？

**Kin:** 你必须就如何允许整合做出决定。这应该是超媒体的承诺之一，当你发布新版本时，你不会因为他们是版本不可知的而破坏你所有的客户。他们有一组可以遵循的链接，他们知道在 API 调用中寻找下一个和上一个链接。我实际上并不局限于下一个，例如/V3/这实际上归结于你如何设计你的 API，然后你如何让你的消费者设计和开发他们的集成。

如果你给他们提供健壮的、做得好的 SDK，他们不需要写很多代码，你的代码就不会那么脆弱，你就能更好地控制人们应用程序中的代码。这不仅仅是 SDK，它还是一个平台开发套件。如果你向你的消费者提供更多的资源，你将对他们如何前进有更大的发言权，因为你已经掌握了这些集成细节的所有权。然后你就可以说“嘿，这不会破坏什么，我们要前进到第八版，你们都要来，哦，等等，除了你，因为你做了你自己的小定制。”但是希望您可以通过为人们提供更多的集成资源来最小化这些资源池。

## 厌倦了支持多个客户端库

使用 OpenAPI 的 code gen piece，您可以更快、更快、更一致地自动生成、提炼和清理各种语言的客户端库。你的文档和整体开发将会更好。

**Derric:**open API 改变了这一切吗，尤其是在 SDK 设计和交流变化方面？

**Kin:** 是的，这真的是，我会说这是我最近看到许多主要提供商转向 OpenAPI 的症结所在——这是因为代码生成功能。他们厌倦了支持 10 种不同的编程语言 SDK，这些都是手工开发的。他们已经意识到，如果他们只是适当地投资于他们的 OpenAPI，自动生成、自动提炼和清理，那么这就成为 API 生命周期的核心真理。那么你的文档和你的整体开发者体验会更好。但是，它确实推动了代码生成的发展。您可以更快、更快、更一致地生成各种语言的客户端库。然后你还可以获得其他一些集成，这样其他 iPaaS 平台，如 Zapiers，就可以为你的平台获取你的 OpenAPI，然后你就有了一个集成，你就进入了 iPaaS 的集成页面。与其他 SaaS 提供商一样，如果他们想将你添加到他们的集成页面，他们不必等待你这样做，他们只需抓取你的 OpenAPI 就可以做到这一点。当谈到可能的集成时，这只是增加了比赛场地，它们都依赖于该合同，即 OpenAPI 真理。它们并不都是定制的代码，定制的开发在你前进的时候会崩溃。

## 稳定您的 API 生命周期

在不久的将来，API 将需要 OpenAPI 和契约驱动。通过一个完整和健壮的 OpenAPI 定义，你可以做文档、模拟、测试生成、安全扫描、代码生成、可发现性和合规性。

德里奇:不，肯定是。当谈到像 OpenAPI 这样的东西时，看到 API 领域的变化和不同的工具非常令人兴奋。但是 API 的下一步是什么呢？在过去的半年里，很多东西都发生了变化。

Kin: 对我来说，还是老样子。我看到 Salesforce、Twilio、Dropbox 和 Twitter 都采用了 OpenAPI 驱动的 API 生命周期，原因我们刚刚谈过。所以我要说的更多的是，就像人们意识到我们不只是因为我们需要医生而炫耀，我们实际上已经意识到炫耀不再是规范了。我们在做 OpenAPI，我们在做 docs，我们在做 mocks，我们在做测试生成，我们在做安全扫描和模糊化，我们在做代码生成。我们真的是先在 API 上投入所有，这意味着我们必须在开发任何东西之前有一个合同。这个合同推动着我们 API 生命周期的每一站，现在已经很好的定义了。那是下一个十年。我已经这样做了 10 年，我意识到这一切都没有我们希望的那么快。所以这真的是最大的一块。

我想说的是，其中的新元素将围绕可发现性，这意味着现在您可以找到所有的 API，因为您已经为它们定义了一个契约。现在，您实际上可以做到合规，并且可以一致地扫描所有 API。API 提供者会要求在 API 投入生产之前，必须有一个完整且健壮的 OpenAPI 定义，然后才能将任何东西推送到管道中。所以我会说这真的是未来，我知道人们讨厌我这样做，因为这不是超级酷，而是稳定你的生命周期，使它开放 API 和合同驱动。

但话虽如此，我要说的是，随着这种成熟，人们意识到我们需要做 webhooks，因为我们已经有了一些成功的 API，人们正在拉很多。因此，为了减轻基础设施的负担，我们将发布一些 webhooks。哦，顺便说一下，我们可能还应该做一个 Pub/Sub，NATS 或卡夫卡，或其他一些 TCP 相关的东西。扩展你的 API 工具箱，不仅仅是 REST，还有 GraphQL，Pub/Sub，使用 web sockets 或者 gRPC。我想说，下一步是真正承认它是一个多样化的 API 工具箱，而不仅仅是 REST。这仍将是王，top，它将是任何做 API 的人的门户药物，它将是我们 API 操作的基础，但根据您的消费者和您正在做的应用程序和集成的类型，您可能需要一个数据更密集的 GraphQL API，并让您的开发人员对查询有更多的控制。如果你是重度 B2B 用户，你可能会选择一些性能稍高的 gRPC APIs。但是，我们仍然需要所有与 API 管理相同的基本东西。我们仍然需要分析、速率限制和对所有这些层的洞察。我们仍然需要测试，嘲笑，文档。因此，我们需要在 API 生命周期中实现相同的停止，只是未来真的不会只是 HTTP/1.1，它可能会是 HTTP/3，它可能会是 TCP，它可能会是 MQTT，如果它不仅仅是 deviced IoT 的话，那多样化的工具箱真的代表了未来。

## GraphQL 有市场吗

GraphQL 不能替代 REST。如果您的消费者正在快速构建某些类型的移动响应应用程序，并且他们真正理解您的底层数据模型，那么 GraphQL 提供了一种更加灵活敏捷的方式来获取数据和内容。

我们真的很高兴你提到了 GraphQL。企业中最令人兴奋的领域。GraphQL 面临哪些挑战？是不是每个人都应该采纳的？听起来有时这就像是 SQL 与非 SQL 的争论。还是对每个应用都有意义？

Kin: 所以，它是否是每个人都应该采用的东西——不。它是否是一个关键的工具，在一些人的工具箱里——是的。GraphQL 最大的挑战是它的定位和销售方式。它被定位为 REST 的替代品。不是的。不能代替休息。这不是一个适用于所有 API 的 API 模式。现在，如果你有一群已知的消费者，他们正在快速构建某些类型的移动响应应用程序，他们真正理解你的底层数据模型，见鬼，是的。给他们一个 GraphQL 端点，然后离开他们。让他们做他们最擅长的事。所以，如果这是一个数据项目与这些类型的设置，是的。如果你有已知的用户，这是必须的。但是，看看 Github 现在在做什么，他们最近对 OpenAPI 做了一个真正的大推进。我认为他们仍然会讲一些故事，解释为什么他们会加倍使用 OpenAPI 和 REST API，同时仍然支持 GraphQL。我想我们会听到很多教训。

它应该是您多样化 API 工具箱的一部分。我想说 GraphQL 的一些其他挑战是，我希望创建者能够更多地接受 HTTP 标准。我同意我们需要一个标准化的查询模式。HTTP 不应该是一个独立的东西，因为这样你就要开始用 GraphQL 解决其他关于缓存和性能的挑战。许多解决方案都是以专有的方式完成的，比如使用该供应商的工具，然后缓存就会神奇地为您完成。这也应该是一个 HTTP 标准——其中有很多缓存解决方案。所以真的，这些是一些挑战。但在正确的情况下，如果你知道谁是你的消费者，GraphQL 将允许你更快地构建东西，在如何获取数据和内容方面更加灵活和敏捷。所以这肯定有它的位置。

**derrick:**完全同意当涉及到像缓存这样的东西时很难，我们已经有了相关的标准，现在 GraphQL 打破了一切。即使是状态代码，我也不确定为什么我们不能使用我们已经有的相同的 HTTP 状态代码。

亲戚:是啊。但这就是当你没有真正拥抱网络或理解它时会发生的事情。这类似于我们之前讨论的标题读写能力。许多人认为网络是理所当然的，认为它实际上带来了多少工作、多少投资和多少成果。在他们开始构建这些新的解决方案之前，他们应该花更多的时间去理解网络，并且说，“哦，这就是状态码存在的原因。”回到我所说的关于变更管理，状态代码是关于沟通的，它们是关于沟通好的和坏的事情，以及是谁的错和规模。我们已经解决了这些问题，让我们不要重新发明轮子。

## 有什么好的 API 资源吗

*你可以快速了解 API 的最佳规范空间包括 API 布道者、Nordic APIs、Matt Reinbold 和 James Higginbotham 的时事通讯，以及 Postman API 网络*

**德里奇:**完全同意。当谈到教育和进入 API 的时候，对那些希望在 API 或开发者关系领域开始职业生涯的大学毕业生有什么建议？

Kin: 嗯，我有偏见，但当然你应该从 APIEvangelist.com 的[开始。除此之外，](https://apievangelist.com/)[Nordic API](https://nordicapis.com/)是一个获取 API 空间信息的好地方。我有一个叫做 API 知识中心的聚会。实际上我应该把它作为一个横幅放在 API 布道者的主页上。我想这个星期我会这样做。这是该领域资源的综述，列出了所有顶尖的 API 博客。有一些 API 时事通讯。我朋友 Matt Reinbold 就有一个。詹姆斯·希金波坦还有一个。所以搜索一些 API 时事通讯，如果你用谷歌搜索的话，它们都会出现。这些会让你跟上正在发生的事情，给你一个很好的故事综述。但实际上，我们正在努力投资 Postman 平台，让新开发人员加入进来。所以 [Postman API 网络](https://explore.postman.com/)，里面有相当多的 API。我有一个公共 REST API，它就像 100 个不同的 API，不需要认证，所以它们真的很容易使用。每个话题都有一个:如果你喜欢书，如果你喜欢猫，如果你喜欢狗。我有一个关于比特币的，还有一个关于查克·诺里斯笑话的。因此，无论你对什么感兴趣，都有一个免费的公共 API public，你可以试一试，看看它到底是怎么回事。它很容易与邮递员一起使用。我正试图为船上的人们创造更多这样的收藏。

我给大学生做了很多演讲，试图说服他们为什么 API 很重要，为什么它会影响他们的职业生涯。所以我正在建造更多这种类型的收藏，展示“嘿，你要进入考古学，这是给你的收藏。”"嘿，你要去做会计了，这是给你的礼物。"进入公共政策管理，这里有一个给你。“所以我一直在做更多的工作，但在邮递员网络中有一小部分会让你接触 API 的世界，帮助你了解它。但是，也就是说，这是我们在这个领域应该做得更好的事情——创建一个更规范的空间，在那里您可以快速了解 API。历史上，它是可编程的网络，但它不应该也不需要成为引领我们走向未来的目的地和来源。我想说它仍然代表着过去的 15 年，而不是未来的 15 年。所以我们需要做得更好。

德瑞克:我一定要看看查克·诺里斯的笑话。那看起来很有趣。非常感谢你今天加入我们。我们总是乐于听到您对 API 空间和 API 生命周期的见解。祝你过得愉快。

金:是的，你们知道在哪里可以找到我。如果你需要做更多，请告诉我。